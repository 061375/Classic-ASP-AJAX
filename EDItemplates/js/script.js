var tstBase={ajaxurl:"asp/ajax.asp",DEBUGGING:!0,ISERRORING:!1};!function(t,e){e.Ajax=function(t){var o=function(o,a){e.Helpers.log("dataResult");let n={method:o,data:a};return t.ajax({url:e.ajaxurl,data:n,type:"post",cache:1!=e.DEBUGGING,dataType:"json"})},a=function(o,a){e.Helpers.log("dataResult"),o.success(function(o){if(1==o.update&&t("#updatemessage").addClass("show"),2==o.update&&window.location.reload(),1==o.success)"function"==typeof a&&a(o.message);else if(void 0!==o.errors){e.ISERRORING=!0;var n="";t.each(o.errors,function(t,e){n+=e+"\n"}),alert("An error occured :: "+n)}}),o.error(function(t,o,a){if(419==t.status)window.location.reload();else if(0==t.status);else{e.ISERRORING=!0;void 0!==t&&console.log("xhr error :: "+t.status),void 0!==a&&console.log("thrownError :: "+a),alert("An Error occurred...")}})};return{init:function(){e.Helpers.log("tstBase.Ajax.init")},get:function(t,n,r){e.Helpers.log("get");let s=o(t,n);s&&a(s,r)}}}(jQuery)}(jQuery,tstBase),function(t,e){e.EDItemplate=(jQuery,{init:function(){e.Helpers.log("tstBase.EDItemplate.init")},ajaxtest:function(){e.Ajax.get("ajaxtest",{a:"this is a",b:"this is b",c:"this is c"},function(t){console.log(t)})}})}(jQuery,tstBase),tstBase.Helpers=function(t){var e=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},o=function(t){let e=(t=parseInt(t)).toString(16);return 1==e.length?"0"+e:e},a=function(t,e,a){return"#"+o(t)+o(e)+o(a)},n=function(e){e.stopPropagation();let o=t(this).parent().find(".moreinfo");o.hasClass("hidden")?o.removeClass("hidden"):o.addClass("hidden"),(o=t(this).parent().find(".showmore")).hasClass("fa-plus")?(o.removeClass("fa-plus"),o.addClass("fa-minus")):(o.removeClass("fa-minus"),o.addClass("fa-plus"))};return{hexToRgb:e,componentToHex:o,resetFootables:function(e,o){void 0===e&&(e=".footable"),void 0===o&&(o=0),t(e).removeClass("footable-loaded"),setTimeout(function(){t(e).footable()},o)},addCommas:function(t,e){return(t=parseFloat(t).toFixed(2)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},tooltip:function(e,o,a,n){var r=null;let s="a,td,th,div",i=!1;void 0!==o&&(s=o),e.find(s).on("mouseover",function(e){if(e.preventDefault(),(void 0!==t(this).attr("title")||void 0!==t(this).attr("data-tooltip"))&&0==i){let o;void 0!==t(this).attr("title")?(o=t(this).attr("title"),t(this).attr("data-tooltip",t(this).attr("title"))):o=t(this).attr("data-tooltip");try{let a=JSON.parse(o);Ajax.getHTMLTemplate("tooltip",function(e){r=e[n].clone(),t.each(a,function(t,e){r.find("."+t).html(e)})})}catch(e){}t(this).addClass("hastooltip");let s=document.createElement("div");t(s).attr("class","tooltip"),null===r?t(s).html(o):t(s).append(r),t(s).css("top",t(this).outerHeight()+3),void 0!==a&&t.each(a,function(e,o){t(s).attr(e,o)}),t(this).append(s),t(this).removeAttr("title"),i=!0}}),e.find(s).on("mouseout",function(e){e.preventDefault(),void 0!==t(this).attr("data-tooltip")&&(i=!1,t(this).removeClass("hastooltip"),t(this).find(".tooltip").remove())})},moreinfo:function(e){e.on("click",".showmore",n),e.find("td,th").each(function(){let e=t(this);if("object"!=typeof t(this).find(".showmore").html()){e.parent().addClass("hasmore");let o=document.createElement("div");t(o).attr("class","moreinfo hidden"),t(o).html(e.attr("data-more")),e.append(o)}})},removeColors:function(t){let e=["red","green","yellow","blue","orange","white","black","grey"];for(let o=0;o<e.length;o++)t.removeClass(e[o])},rgbToHex:a,searchSelect:function(e,o,a){void 0===a&&(a=".seachtext"),t(a+" ul").addClass("searchtextul"),t("body").on("keyup",e,function(){let e=t(this).val().toLowerCase();if(e.length<1)o.attr("size",1),t(a+" ul").html("");else{let n=1,r={};t(a+" ul").html(""),o.find("option").each(function(){t(this).html().toLowerCase().indexOf(e)>-1&&++n<10&&(r[t(this).val()]=t(this).html())}),t.each(r,function(e,o){let n=document.createElement("li");t(n).data("val",e),t(n).html(o+" - "+e),t(n).attr("class","searchfound"),t(a+" ul").append(n)})}}),t("body").on("click",".searchfound",function(){o.val(t(this).data("val")),t(a+" ul").html("")}),t("body").on("click",o,function(){})},colorFade:function(t,o,n,r,s){o=e(o),n=e(n);var i=o,l=!0;i.r>n.r&&(l=!1);var c=!0;i.g>n.g&&(c=!1);var u=!0;i.b>n.b&&(u=!1);var d=!1,f=!1,h=!1;t.colorchangeid=setInterval(function(){d||(l?i.r>=n.r?d=!0:i.r++:i.r<=n.r?d=!0:i.r--),f||(c?i.g>=n.g?f=!0:i.g++:i.g<=n.g?f=!0:i.g--),h||(u?i.b>=n.b?h=!0:i.b++:i.b<=n.b?h=!0:i.b--),t.css("background-color",a(i.r,i.g,i.b)),d&&f&&h&&(clearInterval(t.colorchangeid),t.css("background-color",""))},r)},log:function(t){tstBase.DEBUGGING&&tstBase.SHOWLOG&&window.console&&console.log(t)},loadScript:function(e,o,a){void 0===a&&(a=t("body"));let n=document.createElement("script");t(n).attr("src",e),a.append(n),"function"==typeof o&&o()},getParameterByName:function(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},dateToEpoch:function(t){return(t=new Date(t)).getTime()},aSort:function(t,e){return t.length<1?t:e?t.sort(function(t,e){return t.sortable.toString().toLowerCase().localeCompare(e.sortable.toString().toLowerCase())}):t.sort(function(t,e){return e.sortable.toString().toLowerCase().localeCompare(t.sortable.toString().toLowerCase())})},clockToNumber:function(t){return t=t.replace(/:/g,""),parseInt(t)}}}(jQuery),jQuery(document).ready(function(){tstBase.Ajax.init(),tstBase.EDItemplate.init(),tstBase.EDItemplate.ajaxtest()});